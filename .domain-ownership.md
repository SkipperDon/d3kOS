# d3kOS Domain Ownership Map

## File/Directory Organization for Multi-Session Work

### Domain 1: UI/Frontend Pages
**Safe to work on these pages simultaneously (different files):**
- `/var/www/html/navigation.html` ← Session A
- `/var/www/html/boatlog.html` ← Session B
- `/var/www/html/dashboard.html` ← Session C
- `/var/www/html/helm.html` ← Session D
- `/var/www/html/charts.html` ← Session E

**⚠️ SHARED - Coordinate before editing:**
- `/var/www/html/index.html` (main menu - affects all)
- `/var/www/html/onboarding.html` (critical - backup first)

### Domain 2: Marine Vision Services
**Separate service files:**
- `/opt/d3kos/services/marine-vision/camera_stream_manager.py` ← Phase 1 (Complete)
- `/opt/d3kos/services/marine-vision/fish_detector.py` ← Phase 2.1 (Complete)
- `/opt/d3kos/services/marine-vision/notification_manager.py` ← Phase 2.6 (Session B - IN PROGRESS)
- `/opt/d3kos/services/marine-vision/forward_watch.py` ← Phase 4
- `/opt/d3kos/services/marine-vision/vision_core.py` ← Phase 5

### Domain 3: Voice/AI Services
**Separate concerns:**
- `/opt/d3kos/services/voice/voice-assistant-hybrid.py` ← Voice
- `/opt/d3kos/services/ai/query_handler.py` ← AI logic
- `/opt/d3kos/services/ai/ai_api.py` ← Web API
- `/opt/d3kos/services/ai/signalk_client.py` ← Data fetching

### Domain 4: Configuration
**⚠️ HIGH RISK - One session at a time:**
- `/opt/d3kos/config/ai-config.json`
- `/opt/d3kos/config/skills.md`
- `~/.signalk/settings.json`
- `/etc/nginx/sites-enabled/default`
- `/etc/systemd/system/*.service`

### Domain 5: Documentation
**Safe - separate docs per feature:**
- `/home/boatiq/Helm-OS/doc/MARINE_VISION_*.md`
- `/home/boatiq/Helm-OS/doc/PHASE_*.md`
- `/home/boatiq/Helm-OS/doc/UPDATES_*.md`

**⚠️ SHARED - Coordinate:**
- `/home/boatiq/Helm-OS/doc/MASTER_SYSTEM_SPEC.md`
- `/home/boatiq/Helm-OS/doc/CLAUDE.md`
- `/home/boatiq/.claude/projects/-home-boatiq/memory/MEMORY.md`

## Session Assignment Examples

### Good (Parallel Work):
- ✅ Session 1: Fix Navigation page GPS display
- ✅ Session 2: Implement Marine Vision Phase 2
- ✅ Session 3: Write user guide documentation
- ✅ Session 4: Optimize AI response times

### Bad (Conflicts):
- ❌ Session 1: Add button to index.html
- ❌ Session 2: Change layout of index.html
- ❌ Both editing same file = merge conflict

## Coordination Protocol

1. **Register in `.session-status.md`** - Claim your domain
2. **Check file locks** - Don't edit files in use
3. **Use unique backup names** - `file.bak.session1`, `file.bak.session2`
4. **Update MEMORY.md** - Document what you completed
5. **Test independently** - Don't break other domains
